<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Netless App Playground</title>
  <script src="./dist/bundle.js"></script>
  <!-- <script type="module">
    import AgoraRTC from "agora-rtc-sdk-ng"
    let rtc = {
        localAudioTrack: null,
        client: null
    };

    let options = {
        // Pass your App ID here.
        appId: "16cca950aca74708a9c3f1e2b7f2e655",
        // Set the channel name.
        channel: "rte2022",
        // Pass your temp token here.
        token: "00616cca950aca74708a9c3f1e2b7f2e655IAAb0G2/AjNkz7UgXpbzI1FG8gRXf7SZck26CCZBB2vntt15FHwAAAAAEABUJOp9zV3qYgEAAQDMXepi",
        // Set the user ID.
        uid: 123452
    };

    async function startBasicCall() {
        // Create an AgoraRTCClient object.
        rtc.client = AgoraRTC.createClient({ mode: "rtc", codec: "vp8" });

        // Listen for the "user-published" event, from which you can get an AgoraRTCRemoteUser object.
        rtc.client.on("user-published", async (user, mediaType) => {
            // Subscribe to the remote user when the SDK triggers the "user-published" event
            await rtc.client.subscribe(user, mediaType);
            console.log("subscribe success");

            // If the remote user publishes an audio track.
            if (mediaType === "audio") {
                // Get the RemoteAudioTrack object in the AgoraRTCRemoteUser object.
                const remoteAudioTrack = user.audioTrack;
                // Play the remote audio track.
                remoteAudioTrack.play();
            }

            // Listen for the "user-unpublished" event
            rtc.client.on("user-unpublished", async (user) => {
                // Unsubscribe from the tracks of the remote user.
                await rtc.client.unsubscribe(user);
            });
        });

        window.onload = function () {

            document.getElementById("join").onclick = async function () {
                // Join an RTC channel.
                await rtc.client.join(options.appId, options.channel, options.token, options.uid);
                // Create a local audio track from the audio sampled by a microphone.
                rtc.localAudioTrack = await AgoraRTC.createMicrophoneAudioTrack();
                // Publish the local audio tracks to the RTC channel.
                await rtc.client.publish([rtc.localAudioTrack]);  
                console.log("publish success!");
            }

            document.getElementById("leave").onclick = async function () {
                // Destroy the local audio track.
                rtc.localAudioTrack.close();

                // Leave the channel.
                await rtc.client.leave();
            }
        }
    }

    startBasicCall()
  </script> -->
</head>
<body>
  <div id="app"></div>
  <script type="module" src="/playground/main.ts"></script>
  <!-- <h2 class="left-align">Agora Voice Web SDK Quickstart</h2>
  <div class="row">
      <div>
          <button type="button" id="join">JOIN</button>
          <button type="button" id="leave">LEAVE</button>
      </div>
  </div> -->
</body>
</html>